"use strict";(self.webpackChunkvector=self.webpackChunkvector||[]).push([[638],{439:(t,n,e)=>{e.d(n,{h:()=>c});var o=e(495);function c(t,n,e,c,a,r,i,s,l,u){return{points:t||[],fill:n||"none",stroke:e||"none",strokeWidth:c||0,strokeDasharray:a||"",strokeLinecap:r||"butt",strokeLinejoin:i||"miter",transform:s||[],opacity:l||1,visibility:u||"visible",id:(0,o.g)(),type:"polygon"}}},757:(t,n,e)=>{e.d(n,{z:()=>c});var o=e(495);function c(t,n,e,c,a,r,i,s,l){return{points:t||[],stroke:n||"none",strokeWidth:e||0,strokeDasharray:c||"",strokeLinecap:a||"butt",strokeLinejoin:r||"miter",transform:i||[],opacity:s||1,visibility:l||"visible",id:(0,o.g)(),type:"polyline"}}},655:(t,n,e)=>{e.d(n,{R:()=>c});var o=e(495);function c(t,n,e,c,a,r,i,s,l,u,y,f,h,p,d){return{x:t||0,y:n||0,width:e||0,height:c||0,rx:a||0,ry:r||0,fill:i||"none",stroke:s||"none",strokeWidth:l||0,strokeDasharray:u||"",strokeLinecap:y||"butt",strokeLinejoin:f||"miter",transform:h||[],opacity:p||1,visibility:d||"visible",id:(0,o.g)(),type:"rect"}}},106:(t,n,e)=>{e.d(n,{p:()=>c});var o=e(495);function c(t,n,e,c,a,r,i){return{x:a?0:t||0,y:a?0:n||0,width:e||0,height:c||0,root:a||!1,elements:r||[],subPlanes:i||[],id:(0,o.g)(),type:"plane"}}},284:(t,n,e)=>{e.d(n,{W:()=>r});var o=e(621);function c(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return a(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?a(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var o=0,c=function(){};return{s:c,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return i=t.done,t},e:function(t){s=!0,r=t},f:function(){try{i||null==e.return||e.return()}finally{if(s)throw r}}}}function a(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=Array(n);e<n;e++)o[e]=t[e];return o}function r(t,n){return'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat(t.width,'" height="').concat(t.height,'" viewBox="0 0 ').concat(t.width," ").concat(t.height,'">').concat(function t(n,e){var a="";function r(t,n){if(n.flattenTransform){var e=(0,o.DH)(t);return c="matrix(".concat(e[0][0],",").concat(e[1][0],",").concat(e[0][1],",").concat(e[1][1],",").concat(e[0][2],",").concat(e[1][2],")")}for(var c=[],a=t.length,r=0;r<a;r++){var i;switch(null===(i=t[r])||void 0===i?void 0:i.type){case"translate":c.push("translate(".concat(t[r].x,",").concat(t[r].y,")"));break;case"scale":c.push("scale(".concat(t[r].x,",").concat(t[r].y,")"));break;case"rotate":c.push("rotate(".concat(t[r].deg,")"));break;case"skewX":c.push("skewX(".concat(t[r].deg,")"));break;case"skewY":c.push("skewY(".concat(t[r].deg,")"))}}return c.join(" ")}function i(t,n){return t.map((function(t){return"".concat(t.x+n.x,",").concat(t.y+n.y)})).join(" ")}function s(t,n){var o=Math.abs(t.width),c=Math.abs(t.height),a=t.x,i=t.y;return t.width<0&&(a-=o),t.height<0&&(i-=c),'<rect x="'.concat(a+n.x,'" y="').concat(i+n.y,'" width="').concat(o,'" height="').concat(c,'" rx="').concat(t.rx,'" ry="').concat(t.ry,'" fill="').concat(t.fill,'" stroke="').concat(t.stroke,'" stroke-width="').concat(t.strokeWidth,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" ').concat(e.exceptID?"":' id="'.concat(t.id,'" '),"/>")}function l(t,n){return'<circle cx="'.concat(t.cx+n.x,'" cy="').concat(t.cy+n.y,'" r="').concat(t.r,'" fill="').concat(t.fill,'" stroke="').concat(t.stroke,'" stroke-width="').concat(t.strokeWidth,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" ').concat(e.exceptID?"":' id="'.concat(t.id,'" '),"/>")}function u(t,n){return'<ellipse cx="'.concat(t.cx+n.x,'" cy="').concat(t.cy+n.y,'" rx="').concat(t.rx,'" ry="').concat(t.ry,'" fill="').concat(t.fill,'" stroke="').concat(t.stroke,'" stroke-width="').concat(t.strokeWidth,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" ').concat(e.exceptID?"":' id="'.concat(t.id,'" '),"/>")}function y(t,n){return'<line x1="'.concat(t.x1+n.x,'" y1="').concat(t.y1+n.y,'" x2="').concat(t.x2+n.x,'" y2="').concat(t.y2+n.y,'" stroke="').concat(t.stroke,'" stroke-width="').concat(t.strokeWidth,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" ').concat(e.exceptID?"":' id="'.concat(t.id,'" '),"/>")}function f(t,n){return'<polyline points="'.concat(i(t.points,n),'" stroke="').concat(t.stroke,'" stroke-width="').concat(t.strokeWidth,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" ').concat(e.exceptID?"":' id="'.concat(t.id,'" '),"/>")}function h(t,n){return'<polygon points="'.concat(i(t.points,n),'" fill="').concat(t.fill,'" stroke="').concat(t.stroke,'" stroke-width="').concat(t.strokeWidth,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" ').concat(e.exceptID?"":' id="'.concat(t.id,'" '),"/>")}function p(t,n){return'<path d="'.concat(function(t,n){var e,o=[],a=c(t);try{for(a.s();!(e=a.n()).done;){var r=e.value;switch(null==r?void 0:r.type){case"M":o.push("M ".concat(r.x+n.x," ").concat(r.y+n.y));break;case"L":o.push("L ".concat(r.x+n.x," ").concat(r.y+n.y));break;case"H":o.push("H ".concat(r.x+n.x));break;case"V":o.push("V ".concat(r.y+n.y));break;case"C":o.push("C ".concat(r.x1+n.x," ").concat(r.y1+n.y,",").concat(r.x2+n.x," ").concat(r.y2+n.y,",").concat(r.x+n.x," ").concat(r.y+n.y));break;case"S":o.push("S ".concat(r.x2+n.x," ").concat(r.y2+n.y,",").concat(r.x+n.x," ").concat(r.y+n.y));break;case"Q":o.push("Q ".concat(r.x1+n.x," ").concat(r.y1+n.y," ").concat(r.x+n.x," ").concat(r.y+n.y));break;case"T":o.push("T ".concat(r.x+n.x," ").concat(r.y+n.y));break;case"A":o.push("A ".concat(r.rx," ").concat(r.ry," ").concat(r.xAxisRotation," ").concat(r.largeArcFlag," ").concat(r.sweepFlag," ").concat(r.x+n.x," ").concat(r.y+n.y));break;case"Z":o.push("Z")}}}catch(t){a.e(t)}finally{a.f()}return o.join(" ")}(t.d,n),'" fill="').concat(t.fill,'" stroke="').concat(t.stroke,'" stroke-width="').concat(t.strokeWidth,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" ').concat(e.exceptID?"":' id="'.concat(t.id,'" '),"/>")}var d,k=c(n.elements);try{for(k.s();!(d=k.n()).done;){var v,b=d.value;switch(null===(v=b)||void 0===v?void 0:v.type){case"rect":a+=s(b,n);break;case"circle":a+=l(b,n);break;case"ellipse":a+=u(b,n);break;case"line":a+=y(b,n);break;case"polyline":a+=f(b,n);break;case"polygon":a+=h(b,n);break;case"path":a+=p(b,n)}}}catch(t){k.e(t)}finally{k.f()}var m,x=c(n.subPlanes);try{for(x.s();!(m=x.n()).done;){a+=t(m.value,e)}}catch(t){x.e(t)}finally{x.f()}return"<g".concat(e.exceptID?"":' id="'.concat(n.id,'"'),">").concat(a,"</g>")}(t,n),"</svg>")}},621:(t,n,e)=>{function o(t){var n=t.deg*Math.PI/180;return[[1,Math.tan(n),0],[0,1,0],[0,0,1]]}function c(t){var n=t.deg*Math.PI/180;return[[1,0,0],[Math.tan(n),1,0],[0,0,1]]}function a(t,n){for(var e=[[0,0,0],[0,0,0],[0,0,0]],o=0;o<3;o++)for(var c=0;c<3;c++)for(var a=0;a<3;a++)e[o][c]+=t[o][a]*n[a][c];return e}function r(t){for(var n,e,r,i,s=[[1,0,0],[0,1,0],[0,0,1]],l=t.length,u=0;u<l;u++){var y,f;switch(null===(y=t[u])||void 0===y?void 0:y.type){case"translate":f=[[1,0,(i=t[u]).x],[0,1,i.y],[0,0,1]];break;case"scale":f=[[(r=t[u]).x,0,0],[0,r.y,0],[0,0,1]];break;case"rotate":n=t[u],e=void 0,e=n.deg*Math.PI/180,f=[[Math.cos(e),-Math.sin(e),0],[Math.sin(e),Math.cos(e),0],[0,0,1]];break;case"skewX":f=o(t[u]);break;case"skewY":f=c(t[u]);break;default:f=[[1,0,0],[0,1,0],[0,0,1]]}s=a(f,s)}return s}function i(t,n){var e=r(n);return t.map((function(t){return function(t,n){return{x:t[0][0]*n.x+t[0][1]*n.y+t[0][2],y:t[1][0]*n.x+t[1][1]*n.y+t[1][2]}}(e,t)}))}e.d(n,{DH:()=>r,_I:()=>i})},180:(t,n,e)=>{e.d(n,{default:()=>b});var o=e(621),c=e(655),a=e(357),r=e(106),i=e(284),s=e(72),l=e(124),u=document.querySelector(".g"),y=document.querySelector(".f");var f=e(661),h={noto_sans_tc:!1,material_symbols:!1};function p(t,n){if(!1===h[n]){var e=document.createElement("link");e.setAttribute("href",t),e.setAttribute("rel","stylesheet"),document.head.appendChild(e),h[n]=!0}}var d=e(758);function k(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return v(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?v(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var o=0,c=function(){};return{s:c,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:c}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,r=!0,i=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return r=t.done,t},e:function(t){i=!0,a=t},f:function(){try{r||null==e.return||e.return()}finally{if(i)throw a}}}}function v(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=Array(n);e<n;e++)o[e]=t[e];return o}window.vector={test:{createTransformationMatrix:o.DH,transformPoints:o._I,r:function(){var t=(0,r.p)(0,0,300,300,!0),n=(0,c.R)(10,20,50,80,10,10,"#000",null,null,null,null,null,[{type:"rotate",deg:20},{type:"translate",x:90,y:40}],1,null);t.elements.push(n);var e=(0,r.p)(5,5,60,60,!1,null,null),o=(0,c.R)(5,5,50,50,5,5,"#000"),s=(0,a.R)(0,0,20,20,20,"#000",null,null,null,null,null,[{type:"scale",x:1.5,y:1.2}],.8,null);e.elements.push(o),e.elements.push(s),t.subPlanes.push(e),console.log(JSON.stringify(t)),console.log((0,i.W)(t,{flattenTransform:!1,exceptID:!1}));var l,u=k(e.elements.concat(t.elements));try{for(u.s();!(l=u.n()).done;){var y=l.value;try{var f=(0,d.Yx)(y);console.log(y),console.log(f);var h=(0,d.KQ)(f,1,!0);console.log(h)}catch(t){console.log(t)}}}catch(t){u.e(t)}finally{u.f()}console.log((0,d.RM)((0,d.Yx)(o),(0,d.Yx)(s)))}},toolbar:{switchTool:s.dH,switchShapeType:f.YE},documents:{newDocument:{openNewDocument:function(){u.setAttribute("displayed",!0),y.setAttribute("displayed",!0)},closeNewDocument:function(){u.setAttribute("displayed",!1),y.setAttribute("displayed",!1)},createDocumentWithInputs:function(){var t=String(u.querySelector("#new_document_name").value)||"Untitled",n=parseInt(u.querySelector("#new_document_width").value)||64,e=parseInt(u.querySelector("#new_document_height").value)||64,o=(0,l.BV)(n,e,null,null,t);(0,l.EJ)(o.id)}}},initialize:function(){(0,s.A6)(),(0,l.UI)(),console.log(0)},secondlyInitialize:function(){p("https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100..900&display=swap","noto_sans_tc"),p("https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200","material_symbols")}};const b=window.vector},495:(t,n,e)=>{e.d(n,{g:()=>o});var o=e(831).v4}}]);
//# sourceMappingURL=89ff498b4bcf0ffb5dc1.min.js.map