!function(t,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define("vector",[],n):"object"==typeof exports?exports.vector=n():t.vector=n()}(self,(()=>(()=>{"use strict";var t={d:(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},o:(t,n)=>Object.prototype.hasOwnProperty.call(t,n)},n={};function e(t){var n=t.deg*Math.PI/180;return[[1,Math.tan(n),0],[0,1,0],[0,0,1]]}function o(t){var n=t.deg*Math.PI/180;return[[1,0,0],[Math.tan(n),1,0],[0,0,1]]}function r(t,n){for(var e=[[0,0,0],[0,0,0],[0,0,0]],o=0;o<3;o++)for(var r=0;r<3;r++)for(var a=0;a<3;a++)e[o][r]+=t[o][a]*n[a][r];return e}function a(t){for(var n,a,c,i,s=[[1,0,0],[0,1,0],[0,0,1]],l=t.length,u=0;u<l;u++){var y,f;switch(null===(y=t[u])||void 0===y?void 0:y.type){case"translate":f=[[1,0,(i=t[u]).x],[0,1,i.y],[0,0,1]];break;case"scale":f=[[(c=t[u]).x,0,0],[0,c.y,0],[0,0,1]];break;case"rotate":n=t[u],a=void 0,a=n.deg*Math.PI/180,f=[[Math.cos(a),-Math.sin(a),0],[Math.sin(a),Math.cos(a),0],[0,0,1]];break;case"skewX":f=e(t[u]);break;case"skewY":f=o(t[u]);break;default:f=[[1,0,0],[0,1,0],[0,0,1]]}s=r(f,s)}return s}function c(t,n,e,o,r,a,c,i,s,l,u,y,f,h,p){return{x:t||0,y:n||0,width:e||0,height:o||0,rx:r||0,ry:a||0,fill:c||"none",stroke:i||"none",strokeWidth:s||0,strokeDasharray:l||"",strokeLinecap:u||"butt",strokeLinejoin:y||"miter",transform:f||[],opacity:h||1,visibility:p||"visible",type:"rect"}}function i(t,n,e,o,r,a,c){return{x:r?0:t||0,y:r?0:n||0,width:e||0,height:o||0,root:r||!1,elements:a||[],subPlanes:c||[],type:"plane"}}function s(t,n){var e="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!e){if(Array.isArray(t)||(e=function(t,n){if(t){if("string"==typeof t)return l(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}(t))||n&&t&&"number"==typeof t.length){e&&(t=e);var o=0,r=function(){};return{s:r,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,c=!0,i=!1;return{s:function(){e=e.call(t)},n:function(){var t=e.next();return c=t.done,t},e:function(t){i=!0,a=t},f:function(){try{c||null==e.return||e.return()}finally{if(i)throw a}}}}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=Array(n);e<n;e++)o[e]=t[e];return o}t.d(n,{default:()=>u}),window.vector={test:{createTransformationMatrix:a,transformPoints:function(t,n){var e=a(n);return t.map((function(t){return function(t,n){return{x:t[0][0]*n.x+t[0][1]*n.y+t[0][2],y:t[1][0]*n.x+t[1][1]*n.y+t[1][2]}}(e,t)}))},r:function(){var t=i(0,0,300,300,!0),n=c(10,20,50,80,10,10,"#000",null,null,null,null,null,[{type:"rotate",deg:20},{type:"translate",x:90,y:40}],1,null);t.elements.push(n);var e,o,r=i(5,5,60,60,!1,null,null),l=c(5,5,50,50,5,5,"#000"),u=function(t,n,e,o,r,a,c,i,s,l,u,y){return{cx:t||0,cy:n||0,r:e||0,fill:o||"none",stroke:r||"none",strokeWidth:a||0,strokeDasharray:c||"",strokeLinecap:i||"butt",strokeLinejoin:s||"miter",transform:l||[],opacity:u||1,visibility:y||"visible",type:"circle"}}(20,20,20,"#000",null,null,null,null,null,[{type:"scale",x:1.5,y:1.2}],.8,null);r.elements.push(l),r.elements.push(u),t.subPlanes.push(r),console.log((o={flattenTransform:!0},'<svg xmlns="http://www.w3.org/2000/svg" width="'.concat((e=t).width,'" height="').concat(e.height,'" viewBox="0 0 ').concat(e.width," ").concat(e.height,'">').concat(function t(n,e){var o="";function r(t,n){if(n.flattenTransform){var e=a(t);return"matrix(".concat(e[0][0],",").concat(e[1][0],",").concat(e[0][1],",").concat(e[1][1],",").concat(e[0][2],",").concat(e[1][2],")")}for(var o=[],r=t.length,c=0;c<r;c++){var i;switch(null===(i=t[c])||void 0===i?void 0:i.type){case"translate":o.push("translate(".concat(t[c].x,",").concat(t[c].y,")"));break;case"scale":o.push("scale(".concat(t[c].x,",").concat(t[c].y,")"));break;case"rotate":o.push("rotate(".concat(t[c].deg,")"));break;case"skewX":o.push("skewX(".concat(t[c].deg,")"));break;case"skewY":o.push("skewY(".concat(t[c].deg,")"))}}return o.join(" ")}function c(t,n){return'<rect x="'.concat(t.x+n.x,'" y="').concat(t.y+n.y,'" width="').concat(t.width,'" height="').concat(t.height,'" rx="').concat(t.rx,'" ry="').concat(t.ry,'" fill="').concat(t.fill,'" stroke="').concat(t.stroke,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" />')}function i(t,n){return'<circle cx="'.concat(t.cx+n.x,'" cy="').concat(t.cy+n.y,'" r="').concat(t.r,'" fill="').concat(t.fill,'" stroke="').concat(t.stroke,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" />')}function l(t,n){return'<ellipse cx="'.concat(t.cx+n.x,'" cy="').concat(t.cy+n.y,'" rx="').concat(t.rx,'" ry="').concat(t.ry,'" fill="').concat(t.fill,'" stroke="').concat(t.stroke,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" />')}function u(t,n){return'<line x1="'.concat(t.x1+n.x,'" y1="').concat(t.y1+n.y,'" x2="').concat(t.x2+n.x,'" y2="').concat(t.y2+n.y,'" stroke="').concat(t.stroke,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" />')}function y(t,n){return'<polyline points="'.concat(t.points.map((function(t){return"".concat(t.x+n.x,",").concat(t.y+n.y)})).join(" "),'" stroke="').concat(t.stroke,'" stroke-dasharray="').concat(t.strokeDasharray,'" stroke-linecap="').concat(t.strokeLinecap,'" stroke-linejoin="').concat(t.strokeLinejoin,'" transform="').concat(r(t.transform,e),'" opacity="').concat(t.opacity,'" visibility="').concat(t.visibility,'" />')}var f,h=s(n.elements);try{for(h.s();!(f=h.n()).done;){var p,k=f.value;switch(null===(p=k)||void 0===p?void 0:p.type){case"rect":o+=c(k,n);break;case"circle":o+=i(k,n);break;case"ellipse":o+=l(k,n);break;case"line":o+=u(k,n);break;case"polyline":o+=y(k,n)}}}catch(t){h.e(t)}finally{h.f()}var v,d=s(n.subPlanes);try{for(d.s();!(v=d.n()).done;)o+=t(v.value,e)}catch(t){d.e(t)}finally{d.f()}return"<g>".concat(o,"</g>")}(e,o),"</svg>")))}},initialize:function(){console.log(0)}};const u=window.vector;return n=n.default})()));
//# sourceMappingURL=main.bda0768b66ae87f25e4e.min.js.map